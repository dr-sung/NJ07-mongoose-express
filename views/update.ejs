<!DOCTYPE html>
<html lang="en">
<% include ./partials/header %>

    <body>
        <nav class="nav">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                <a class="nav-link" href="/">List</a>
                </li>
                <li class="nav-item">
                <a class="nav-link active">Edit Contact</a>
                </li>
                </li>
            </ul>
        </nav>

        <div class="container">
        <div class="jumbotron">
            <div class="container">
                <h2 class="display-5">Edit Contact</h2>

                <form action="/update" method="post">
                    <input type="hidden" name="_id" value="<%= contact._id %>">
                    <div class="form-group row">
                        <label for="name" class="col-sm-2 col-form-label">Name</label>
                        <div class="col-sm-10">
                        <input type="text" name="name" class="form-control" id="name" value="<%= contact.name %>">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="phone" class="col-sm-2 col-form-label">Phone</label>
                        <div class="col-sm-10">
                        <input type="text" name="phone" class="form-control" id="phone" value="<%= contact.phone %>">
                        </div>
                    </div>
                    <fieldset class="form-group">
                        <div class="row">
                        <legend class="col-form-legend col-sm-2">Phone Type</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="phonetype" id="typecell" value="cell" <%= contact.isCell ? "checked" : "" %> >
                                Cell
                            </label>
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="phonetype" id="typeland" value="landline" <%= !contact.isCell ? "checked" : "" %>>
                                Landline
                            </label>
                            </div>
                        </div>
                        </div>
                    </fieldset>
                    <div class="form-group row">
                        <div class="col-sm-2">Skills</div>
                        <div class="col-sm-10">
                        <div class="form-check">
                            <% for (const skill of contact.skills) { 
                                const key = Object.keys(skill)[0];
                            %>
                            <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" name="skill_<%=key%>" value="<%= key %>"
                                    <%= skill[key] ? "checked" : "" %> > <%= key %>
                            </label>
                            <% } %>
                        </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-10">
                        <button type="submit" class="btn btn-primary">Update</button>
                        </div>
                    </div>
                </form>

            </div>
        </div>
        </div>

    <% include ./partials/footer %>
    <% include ./partials/scripts %>
    </body>
</html>